<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="workerDetailsPage">Worker Details - John Doe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'worker-green': '#138808',
                        'worker-orange': '#FF9933',
                        'worker-blue': '#000080'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }

        .chart-container {
            position: relative;
            height: 40vh;
            width: 100%;
        }
    </style>
</head>

<body class="bg-gray-100 dark:bg-gray-900 dark:text-white">
    <!-- Government Header -->
    <div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
        <div class="container mx-auto px-4 py-2">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <img src="/assets/images/emblem.png" alt="Gujarat Emblem" class="h-12 mr-3" />
                    <div>
                        <h1 class="text-sm font-bold text-worker-blue dark:text-white" data-translate="govt">ગુજરાત
                            સરકાર / Government of Gujarat</h1>
                        <h2 class="text-xs text-gray-600 dark:text-gray-400" data-translate="ministry">કૃષિ મંત્રાલય /
                            Ministry of Agriculture</h2>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="theme-toggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                        <i id="theme-toggle-dark-icon" class="fas fa-moon hidden"></i>
                        <i id="theme-toggle-light-icon" class="fas fa-sun"></i>
                    </button>
                    <select id="language-selector"
                        class="text-sm p-1 border rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                        <option value="en">English</option>
                        <option value="hi">हिंदी</option>
                        <option value="gu">ગુજરાતી</option>
                    </select>
                    <button id="logout-btn" class="p-2 rounded-lg bg-red-500 text-white hover:bg-red-600">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Worker Details Section -->
    <div class="container mx-auto p-6">
        <!-- Worker Profile -->
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-6">
            <div class="flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6">
                <img src="/assets/images/worker1.jpg" alt="John Doe" class="w-32 h-32 rounded-full object-cover" />
                <div class="text-center md:text-left">
                    <h2 class="text-2xl font-bold">John Doe</h2>
                    <p class="text-gray-600 dark:text-gray-400">Field Inspector</p>
                    <p class="text-gray-600 dark:text-gray-400">Department: Agriculture</p>
                    <p class="text-gray-600 dark:text-gray-400">Location: Ahmedabad, Gujarat</p>
                </div>
            </div>
        </div>

        <!-- Worker Stats -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-lg font-semibold" data-translate="totalTasks">Total Tasks</h3>
                <p class="text-3xl font-bold text-worker-green">24</p>
            </div>
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-lg font-semibold" data-translate="completedTasks">Completed Tasks</h3>
                <p class="text-3xl font-bold text-worker-blue">18</p>
            </div>
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-lg font-semibold" data-translate="pendingTasks">Pending Tasks</h3>
                <p class="text-3xl font-bold text-worker-orange">6</p>
            </div>
        </div>

        <!-- Worker Performance Charts -->
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-6">
            <h2 class="text-xl font-bold mb-4" data-translate="performance">Performance Overview</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Task Completion Chart -->
                <div class="chart-container">
                    <canvas id="taskCompletionChart"></canvas>
                </div>
                <!-- Monthly Activity Chart -->
                <div class="chart-container">
                    <canvas id="monthlyActivityChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h2 class="text-xl font-bold mb-4" data-translate="recentActivity">Recent Activity</h2>
            <div class="space-y-4">
                <div class="flex items-start">
                    <div class="flex-shrink-0 bg-worker-green bg-opacity-20 p-2 rounded-lg">
                        <i class="fas fa-tasks text-worker-green"></i>
                    </div>
                    <div class="ml-4">
                        <p class="font-semibold">Task Completed: Field Inspection</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Completed on: March 10, 2024</p>
                        <p class="text-xs text-gray-500 mt-1">2 hours ago</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <div class="flex-shrink-0 bg-worker-orange bg-opacity-20 p-2 rounded-lg">
                        <i class="fas fa-file-alt text-worker-orange"></i>
                    </div>
                    <div class="ml-4">
                        <p class="font-semibold">Report Submitted: Crop Health</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Submitted on: March 8, 2024</p>
                        <p class="text-xs text-gray-500 mt-1">2 days ago</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="bg-worker-green text-white text-center py-4">
        <p>&copy; 2023 WORKERS PAGE. All rights reserved.</p>
    </div>

    <script>
        // Dark Mode Toggle
        const themeToggleBtn = document.getElementById('theme-toggle');
        const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
        const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

        if (localStorage.getItem('color-theme') === 'dark' ||
            (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            themeToggleDarkIcon.classList.remove('hidden');
            themeToggleLightIcon.classList.add('hidden');
        }

        themeToggleBtn.addEventListener('click', () => {
            themeToggleDarkIcon.classList.toggle('hidden');
            themeToggleLightIcon.classList.toggle('hidden');

            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('color-theme', 'light');
            } else {
                document.documentElement.classList.add('dark');
                localStorage.setItem('color-theme', 'dark');
            }
        });

        // Task Completion Chart
        const taskCompletionCtx = document.getElementById('taskCompletionChart').getContext('2d');
        const taskCompletionChart = new Chart(taskCompletionCtx, {
            type: 'doughnut',
            data: {
                labels: ['Completed', 'Pending'],
                datasets: [{
                    data: [18, 6],
                    backgroundColor: ['rgba(19, 136, 8, 0.8)', 'rgba(255, 153, 51, 0.8)'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return `${context.label}: ${context.raw} tasks`;
                            }
                        }
                    }
                }
            }
        });

        // Monthly Activity Chart
        const monthlyActivityCtx = document.getElementById('monthlyActivityChart').getContext('2d');
        const monthlyActivityChart = new Chart(monthlyActivityCtx, {
            type: 'bar',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                datasets: [{
                    label: 'Tasks Completed',
                    data: [5, 7, 3, 8, 6, 4, 9],
                    backgroundColor: 'rgba(19, 136, 8, 0.8)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false,
                    },
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return `${context.raw} tasks`;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Months'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Tasks Completed'
                        }
                    }
                }
            }
        });
    </script>
</body>

</html>